<html>
  <head>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load('current', {
        'packages':['geochart'],
        // Note: you will need to get a mapsApiKey for your project.
        // See: https://developers.google.com/chart/interactive/docs/basic_load_libs#load-settings
        'mapsApiKey': 'AIzaSyD-9tSrke72PouQMnMX-a7eZSW0jkFMBWY'
      });


    const url="https://api.covid19api.com/summary";
    var ylabels=[];const xlabels=[];var fruits = ["Banana", "Orange", "Apple", "Mango"];

    var obj = {"1":5,"2":7,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0};
var result = Object.keys(obj).map(function(key) {
  return [Number(key), obj[key]];
});


    async function getData(){
        const response= await fetch(url);
        const data=await response.json();}
        getData();
        const CountryWise=document.getElementById('CountryWise');       
        console.log(data);
        var temp1=['Country','Total no. of confirmed cases'];
        xlabels.push(temp1);
        for(var i=1;i<=246;i++){
            var foo1=data.Countries[i].Country;
            var foo2=data.Countries[i].TotalConfirmed;
            var temp=[foo1,foo2];
            // var temp= {Country:foo1, cases:foo2};
            console.log(temp);
            xlabels[i]=temp;
           
        }
        console.log(xlabels);
        if(Array.isArray(xlabels)){console.log("yes it is array");console.log(typeof xlabels);}
        else{console.log("no it is not an array and type is-->");console.log(typeof obj);}
    }
    getData();

      google.charts.setOnLoadCallback(drawRegionsMap);
      function drawRegionsMap(){
        var data = google.visualization.arrayToDataTable(xlabels);
        var options = {region:'country'};
        // var dimension = "population";
        var chart = new google.visualization.GeoChart(document.getElementById('regions_div'));
        chart.draw(data, options);
    }
    </script>
  </head>
  <body>
    <div id="regions_div" style="width: 900px; height: 500px;"></div>
  </body>
</html>
